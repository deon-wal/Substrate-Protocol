<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ALDERSYTH // MARKET_DISTRICT</title>
    <style>
        :root { --gold: #ffb000; --red: #ff3e3e; --cyan: #06b6d4; --bg: #020202; --panel-border: rgba(6, 182, 212, 0.2); }
        body { 
            background: var(--bg); color: var(--gold); 
            font-family: 'Courier New', monospace; margin: 0; line-height: 1.6;
        }

        /* --- GLOBAL HEADER --- */
        header {
            position: fixed; top: 0; width: 100%; z-index: 1000;
            background: rgba(0,0,0,0.95); border-bottom: 1px solid var(--cyan);
            display: flex; justify-content: space-between; align-items: center;
            padding: 10px 30px; box-sizing: border-box; font-family: monospace;
            backdrop-filter: blur(10px);
        }
        .nav-links a {
            color: #fff; text-decoration: none; margin-left: 20px; font-size: 0.75rem;
            transition: 0.3s; border: 1px solid transparent; padding: 5px 10px;
        }
        .nav-links a:hover { color: var(--cyan); border-color: var(--cyan); }
        .active-link { border-color: var(--gold) !important; color: var(--gold) !important; }

        /* --- SCANLINE OVERLAY --- */
        body::after { 
            content: ""; position: fixed; inset: 0; z-index: 999; pointer-events: none;
            background: linear-gradient(rgba(18,16,16,0) 50%, rgba(0,0,0,0.1) 50%);
            background-size: 100% 3px;
        }

        .page-wrapper { padding-top: 100px; max-width: 1200px; margin: 0 auto; padding-bottom: 50px; }

        /* --- INTERACTIVE HERO --- */
        .hero-layout { display: grid; grid-template-columns: 1fr 350px; gap: 30px; margin-bottom: 60px; height: 500px; }
        .main-viz { 
            border: 1px solid var(--cyan); background: rgba(0,10,15,0.8); 
            position: relative; overflow: hidden; 
        }

        /* PHYSICS OBJECTS */
        .variable { 
            position: absolute; border-radius: 50%; display: flex; align-items: center; 
            justify-content: center; font-size: 0.6rem; cursor: grab; z-index: 10; font-weight: bold;
        }
        .melon { width: 55px; height: 55px; background: #4caf50; box-shadow: 0 0 20px #4caf50; color: #000; }
        .espresso { width: 40px; height: 40px; background: #6f4e37; border: 2px solid #fff; box-shadow: 0 0 25px var(--gold); }

        /* --- DATA SECTION --- */
        .data-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-top: 50px; }
        .data-card { border: 1px solid var(--panel-border); padding: 20px; background: rgba(6, 182, 212, 0.05); }
        .data-card h4 { margin-top: 0; color: var(--cyan); font-size: 0.8rem; border-bottom: 1px solid var(--panel-border); }

        /* --- FOOTER --- */
        footer {
            margin-top: 100px; padding: 60px 30px; border-top: 1px solid var(--gold);
            background: #000; font-family: monospace; font-size: 0.7rem;
        }

        .warning { color: var(--red); animation: pulse 1s infinite; }
        @keyframes pulse { 50% { opacity: 0.3; } }
    </style>
</head>
<body>

    <header>
        <div style="color: var(--cyan); font-weight: bold;">ALDERSYTH_OS // MARKET_DISTRICT</div>
        <nav class="nav-links">
            <a href="index.html">DASHBOARD</a>
            <a href="market.html" class="active-link">MARKET</a>
            <a href="residential.html">RESIDENTIAL</a>
            <a href="observatory.html">OBSERVATORY</a>
        </nav>
    </header>

    <div class="page-wrapper">
        <section class="hero-layout">
            <div class="main-viz" id="physics-container">
                <div style="padding: 20px; color: var(--cyan); max-width: 400px; font-size: 0.8rem;">
                    [SYS_LOG_02: DECRYPTING_THERMODYNAMICS...]<br><br>
                    <span id="typewriter"></span>
                </div>
                <div class="variable melon" id="obj1" style="top:40%; left:20%;">MELON</div>
                <div class="variable espresso" id="obj2" style="top:70%; left:60%;">FINN_CUP</div>
            </div>

            <aside style="background: rgba(0,5,10,0.95); border: 1px solid var(--gold); padding: 25px;">
                <h3 style="font-size:0.8rem; letter-spacing:2px; color: var(--gold);">TELEMETRY</h3>
                <div style="margin-bottom: 20px;">
                    <span style="font-size:0.5rem; opacity:0.7;">BTC_TETHER</span>
                    <div style="font-size: 1.5rem; color: #fff;" id="btc">$---</div>
                </div>
                <div style="margin-bottom: 20px;">
                    <span style="font-size:0.5rem; opacity:0.7;">LOCAL_TEMP</span>
                    <div style="font-size: 1.5rem; color: #fff;" id="temp">--°C</div>
                    <div class="warning">!! THERMODYNAMIC_STRESS !!</div>
                </div>
                <hr style="border: 0; border-top: 1px solid var(--panel-border); margin: 20px 0;">
                <p style="font-size: 0.6rem; color: var(--red);">"Your baseline is going to kill someone, Sloane!"</p>
            </aside>
        </section>

        <h3 style="border-left: 4px solid var(--cyan); padding-left: 15px;">MARKET_STABILITY_FEED</h3>
        <div class="data-grid">
            <div class="data-card">
                <h4>VENDOR_01: FINN</h4>
                <p style="font-size: 0.7rem;">> Espresso Cart: 88% Drift</p>
                <p style="font-size: 0.7rem;">> Ceramic Integrity: FAILING</p>
            </div>
            <div class="data-card">
                <h4>PHYSICS_ANOMALY</h4>
                <p style="font-size: 0.7rem;">> Intervention: DETECTED</p>
                <p style="font-size: 0.7rem;">> Skew: SUBJECT_01_INPUT</p>
            </div>
            <div class="data-card">
                <h4>IMAGE_DATA</h4>
                <img src="https://images.unsplash.com/photo-1533035353720-f1c6a75cd8ab?auto=format&fit=crop&w=300&q=80" style="width: 100%; border: 1px solid var(--cyan); margin-top: 10px;">
            </div>
        </div>
    </div>

    <footer>
        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 30px;">
            <div>
                <div style="color: var(--cyan); margin-bottom: 10px;">DIRECTORY</div>
                <a href="index.html" style="color:#666; text-decoration:none; display:block;">CENTRAL_CORE</a>
                <a href="residential.html" style="color:#666; text-decoration:none; display:block;">RESI_RINGS</a>
            </div>
            <div>
                <div style="color: var(--gold); margin-bottom: 10px;">ENVIRONMENTAL</div>
                <p style="color:#666;">OZONE: PEAKING<br>GRAVITY: FLUCTUATING</p>
            </div>
            <div style="grid-column: span 2;">
                <div style="color: var(--red); margin-bottom: 10px;">ALDERSYTH_COUNCIL_LEGAL</div>
                <p style="color:#444;">Thermodynamic spikes in the Market District are authorized for data collection purposes. Any heat transfer to palms from espresso units is a voluntary biometric contribution to the Bridge Dataset.</p>
            </div>
        </div>
    </footer>

    <script>
        // 1. Live Data
        async function updateLive() {
            try {
                const btc = await fetch('https://api.coindesk.com/v1/bpi/currentprice.json').then(r => r.json());
                document.getElementById('btc').innerText = "$" + Math.floor(btc.bpi.USD.rate_float).toLocaleString();
                const weather = await fetch('https://wttr.in/Richmond?format=j1').then(r => r.json());
                document.getElementById('temp').innerText = weather.current_condition[0].temp_C + "°C";
            } catch(e) {}
        }
        updateLive();

        // 2. Typewriter
        const story = "By midday, the Market was a nightmare. Finn's espresso launched itself at a pedestrian. I lunged, catching it mid-air. The heat on my palms was a reminder of the real-world consequences of these anomalies...";
        let i = 0;
        function type() {
            if (i < story.length) {
                document.getElementById("typewriter").innerHTML += story.charAt(i);
                i++;
                setTimeout(type, 20);
            }
        }
        type();

        // 3. Physics & Dragging
        let drag = null;
        const container = document.getElementById('physics-container');
        document.querySelectorAll('.variable').forEach(obj => {
            let vx = (Math.random() - 0.5) * 2;
            let vy = (Math.random() - 0.5) * 2;
            function move() {
                if (drag !== obj) {
                    let t = obj.offsetTop + vy;
                    let l = obj.offsetLeft + vx;
                    if (t <= 0 || t >= container.offsetHeight - 50) vy *= -1;
                    if (l <= 0 || l >= container.offsetWidth - 50) vx *= -1;
                    obj.style.top = t + 'px';
                    obj.style.left = l + 'px';
                }
                requestAnimationFrame(move);
            }
            move();
            obj.onmousedown = () => { drag = obj; };
        });
        window.onmouseup = () => { drag = null; };
        window.onmousemove = (e) => {
            if(drag) {
                const rect = container.getBoundingClientRect();
                drag.style.left = (e.clientX - rect.left - 25) + 'px';
                drag.style.top = (e.clientY - rect.top - 25) + 'px';
            }
        };
    </script>
</body>
</html>

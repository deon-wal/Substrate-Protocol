<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ALDERSYTH // MARKET_DISTRICT</title>
<style>
:root { 
    --gold: #ffb000; --red: #ff3e3e; --cyan: #06b6d4; 
    --bg: #020202; --border: rgba(255, 176, 0, 0.25); 
}
body { 
    background: var(--bg); color: var(--gold); font-family: 'Courier New', monospace; 
    margin: 0; overflow: hidden; text-transform: uppercase; height: 100vh; display: flex; flex-direction: column; 
}

/* CRT Overlay */
.crt::before { 
    content: " "; position: fixed; inset: 0; z-index: 100; pointer-events: none; 
    background: linear-gradient(rgba(18,16,16,0) 50%, rgba(0,0,0,0.1) 50%), 
                linear-gradient(90deg, rgba(255,0,0,0.03), rgba(0,255,0,0.01), rgba(0,0,255,0.03)); 
    background-size: 100% 3px, 3px 100%; 
}
.scanline { width: 100%; height: 2px; background: rgba(255,176,0,0.05); position: fixed; z-index:101; animation: scan 10s linear infinite; }
@keyframes scan { from{top:0} to{top:100%} }

/* Header */
header { padding: 15px 25px; border-bottom: 2px solid var(--gold); display:flex; justify-content:space-between; font-size:0.8rem; }

/* Container Grid */
.container { display:grid; grid-template-columns:1fr 350px; gap:15px; padding:20px; flex-grow:1; }

/* Panels */
.main-view { border:1px solid var(--border); position:relative; background:rgba(0,0,0,0.9); overflow:hidden; }
.side-panel { display:flex; flex-direction:column; gap:15px; }
.panel { border:1px solid var(--border); padding:12px; background:rgba(255,176,0,0.02); position:relative; }

/* Volatile Status */
.warning-flash { animation: flash 1s infinite alternate; color:var(--red); font-weight:bold; }
@keyframes flash { from {opacity:1;} to{opacity:0.3;} }

/* Anomaly List */
.anomaly-item { border-bottom:1px solid rgba(255,255,255,0.1); padding:10px 0; font-size:0.8rem; }
.tag { font-size:0.6rem; border:1px solid var(--gold); padding:2px 4px; margin-right:5px; }

/* Buttons */
button { background:none; border:1px solid var(--gold); color:var(--gold); padding:10px; cursor:pointer; font-family:inherit; width:100%; margin-top:auto; }
button:hover { background:var(--gold); color:#000; }

/* HUD Floating Metrics */
.hud { position:absolute; top:10px; right:10px; background:rgba(0,0,0,0.7); border:1px solid var(--cyan); padding:8px; font-size:0.7rem; z-index:3; }
.hud div { margin-bottom:4px; }

/* Canvas Wave & Particle */
#wave { position:absolute; inset:0; z-index:1; }

/* Magnetic Containment Bottle */
#magnetic-bottle { position:absolute; bottom:50px; left:50%; transform:translateX(-50%); width:120px; height:250px; border:2px solid var(--cyan); border-radius:12px; box-shadow:0 0 15px rgba(0,198,212,0.5); z-index:2; }

/* Lead Block Particles */
.lead-particle { position:absolute; width:12px; height:12px; background:rgba(128,128,128,0.7); border-radius:50%; z-index:2; }
</style>
</head>
<body class="crt">
<div class="scanline"></div>
<header>
    <span>ALDERSYTH // SECTOR_02 // MARKET_DISTRICT</span>
    <span id="clock">00:00:00</span>
</header>

<main class="container">
    <!-- Main View -->
    <section class="main-view">
        <div style="padding:20px;">
            <h2 class="warning-flash">!! WARNING: VOLATILE_LINK_STATE !!</h2>
            <p style="font-size:0.9rem; color:var(--cyan);">Analyzing Substrate Interference in Sector 02...</p>
            <div id="data-stream" style="font-size:0.7rem; color:#fff; opacity:0.6; height:300px; overflow:hidden;"></div>
        </div>
        <canvas id="wave"></canvas>
        <div class="hud">
            <div>SYNC_RATE: 92.4%</div>
            <div>HEAT_LOAD: 75%</div>
            <div>PULSE_LOCK: ACTIVE</div>
        </div>
        <div id="magnetic-bottle"></div>
        <!-- Lead block particles -->
        <div class="lead-particle" style="top:100px; left:60px;"></div>
        <div class="lead-particle" style="top:140px; left:120px;"></div>
        <div class="lead-particle" style="top:200px; left:80px;"></div>
    </section>

    <!-- Side Panel -->
    <aside class="side-panel">
        <div class="panel">
            <h3 style="font-size:0.7rem; border-bottom:1px solid var(--border);">ANOMALY_DETECTION</h3>
            <div class="anomaly-item"><span class="tag">#FNN-09</span> PRICE_DRIFT: 0.04%</div>
            <div class="anomaly-item"><span class="tag">#FNN-12</span> VENDOR_SYNC: LOSS</div>
            <div class="anomaly-item"><span class="tag">#FNN-88</span> ECHO_DEBT: DETECTED</div>
        </div>
        <button onclick="location.href='index.html'">RETURN_TO_CORE</button>
    </aside>
</main>

<!-- Ambient Audio -->
<audio id="ambient" autoplay loop>
    <source src="audio/market_ambient.mp3" type="audio/mpeg">
</audio>

<script>
/* Clock */
setInterval(()=>{document.getElementById('clock').innerText=new Date().toLocaleTimeString();},1000);

/* Data Stream */
const stream=document.getElementById('data-stream');
setInterval(()=>{
    const code=Math.random().toString(36).substring(7).toUpperCase();
    const entry=document.createElement('div');
    entry.innerText=`SCRAPING_LAYER_${code} >> STABILITY: ${(Math.random()*100).toFixed(2)}%`;
    stream.prepend(entry);
    if(stream.children.length>25) stream.lastChild.remove();
},400);

/* Canvas Wave */
const canvas=document.getElementById('wave');
const ctx=canvas.getContext('2d');
let t=0;
function resize(){canvas.width=canvas.offsetWidth; canvas.height=canvas.offsetHeight;}
window.onresize=resize; resize();
function draw(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    ctx.beginPath();
    ctx.strokeStyle='#06b6d4'; ctx.lineWidth=2;
    const mid=canvas.height/2;
    for(let x=0;x<canvas.width;x+=2){
        const y=mid + Math.sin(x*0.02+t)*30 + Math.sin(x*0.05+t*1.5)*10;
        x===0?ctx.moveTo(x,y):ctx.lineTo(x,y);
    }
    ctx.stroke(); t+=0.05; requestAnimationFrame(draw);
}
draw();

/* Animate Lead Particles */
const particles=document.querySelectorAll('.lead-particle');
function moveParticles(){
    particles.forEach(p=>{
        let top=parseFloat(p.style.top);
        top+=Math.random()*1.5-0.7;
        if(top>canvas.height) top=0;
        p.style.top=top+'px';
    });
    requestAnimationFrame(moveParticles);
}
moveParticles();
</script>
</body>
</html>

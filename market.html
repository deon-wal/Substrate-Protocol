<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ALDERSYTH // MARKET_DISTRICT</title>
<style>
:root { --gold: #ffb000; --red: #ff3e3e; --cyan: #06b6d4; --bg: #020202; }
body { 
    background: var(--bg) url('wallpaper.jpg.png') center/cover no-repeat fixed;
    color: var(--gold); font-family: 'Courier New', monospace; margin: 0; overflow: hidden; height: 100vh;
}

/* CRT EFFECTS */
body::after { 
    content: ""; position: fixed; inset: 0; z-index: 100; pointer-events: none;
    background: linear-gradient(rgba(18,16,16,0) 50%, rgba(0,0,0,0.1) 50%), linear-gradient(90deg, rgba(255,0,0,0.02), rgba(0,0,0,0), rgba(0,0,255,0.02));
    background-size: 100% 3px, 3px 100%;
}

.container { display: grid; grid-template-columns: 1fr 320px; height: 100vh; backdrop-filter: blur(5px); }

/* MAIN SIMULATION AREA */
main { position: relative; border-right: 1px solid var(--cyan); overflow: hidden; }

/* THE "SHIMMERING" DATA STREAM */
#story-log {
    position: absolute; top: 20px; left: 20px; width: 400px; font-size: 0.75rem;
    color: var(--cyan); line-height: 1.4; text-shadow: 0 0 5px var(--cyan);
}

/* FLOATING ASSETS (The "Variables") */
.variable { 
    position: absolute; border-radius: 50%; display: flex; align-items: center; 
    justify-content: center; font-weight: bold; cursor: crosshair; z-index: 10;
}
.melon { width: 50px; height: 50px; background: #4caf50; box-shadow: 0 0 15px #4caf50; color: #000; }
.espresso { width: 35px; height: 35px; background: #6f4e37; border: 2px solid #fff; box-shadow: 0 0 20px #ffb000; }

/* HUD */
.hud { 
    background: rgba(0,10,15,0.9); border: 1px solid var(--cyan); padding: 15px; 
    margin: 20px; display: flex; flex-direction: column; gap: 10px;
}
.warning { color: var(--red); animation: blink 1s infinite; font-size: 0.7rem; }
@keyframes blink { 50% { opacity: 0.2; } }

/* PARTICLE SPLATTER */
.drop { position: absolute; width: 4px; height: 4px; background: var(--cyan); border-radius: 50%; pointer-events: none; }

button { 
    background: none; border: 1px solid var(--gold); color: var(--gold); 
    padding: 10px; cursor: pointer; font-family: inherit; margin-top: auto; 
}
button:hover { background: var(--gold); color: #000; }

</style>
</head>
<body>

<div class="container">
    <main id="sim">
        <div id="story-log">
            [13:15] // MARKET_DISTRICT<br>
            ANALYSIS: HIGGS-FIELD DECOHERENCE DETECTED.<br>
            > FINN'S ESPRESSO: VECTOR_UNSTABLE<br>
            > STATUS: SUBJECT_01 INTERVENTION REQUIRED.
        </div>
        
        <div class="variable melon" id="obj1" style="top:20%; left:30%;">MELON</div>
        <div class="variable espresso" id="obj2" style="top:60%; left:50%;">CUP</div>
        
        <canvas id="grid" style="position:absolute; inset:0; z-index:1; opacity:0.2;"></canvas>
    </main>

    <aside style="background: rgba(0,5,10,0.95); padding: 20px; display: flex; flex-direction: column;">
        <div class="hud">
            <div class="warning">!! THERMODYNAMIC_STRESS: CRITICAL !!</div>
            <div style="font-size:0.6rem;">BIOMETRIC_SYNC: <span id="sync">98%</span></div>
            <div style="font-size:0.6rem;">LOCAL_GRAVITY: <span id="grav">0.42G</span></div>
        </div>

        <div style="font-size: 0.65rem; color: var(--cyan); border-left: 2px solid var(--cyan); padding-left: 10px; margin-top: 20px;">
            "Your baseline is going to kill someone, Sloane!"<br><br>
            "The baseline is necessary, Analyst. Intervention alters the dataset."
        </div>

        <button onclick="location.href='index.html'">RE-SYNC TO CORE</button>
    </aside>
</div>

<script>
    const sim = document.getElementById('sim');
    const objects = document.querySelectorAll('.variable');
    
    // 1. Physics Engine (Thermodynamic Stress)
    objects.forEach(obj => {
        let vx = (Math.random() - 0.5) * 4;
        let vy = (Math.random() - 0.5) * 4;

        function update() {
            let top = obj.offsetTop + vy;
            let left = obj.offsetLeft + vx;

            if (top <= 0 || top >= sim.offsetHeight - 50) { 
                vy *= -1; 
                createSplatter(left, top, obj.classList.contains('melon') ? '#4caf50' : '#6f4e37');
            }
            if (left <= 0 || left >= sim.offsetWidth - 50) { 
                vx *= -1; 
                createSplatter(left, top, obj.classList.contains('melon') ? '#4caf50' : '#6f4e37');
            }

            obj.style.top = top + 'px';
            obj.style.left = left + 'px';
            requestAnimationFrame(update);
        }
        update();
    });

    // 2. Intervention Logic (The "Splatter")
    function createSplatter(x, y, color) {
        for(let i=0; i<5; i++) {
            const d = document.createElement('div');
            d.className = 'drop';
            d.style.left = x + 'px'; d.style.top = y + 'px';
            d.style.background = color;
            sim.appendChild(d);
            setTimeout(() => d.remove(), 1000);
        }
    }

    // 3. Subject 01 Interaction (Dragging)
    let active = null;
    objects.forEach(o => {
        o.onmousedown = () => active = o;
    });
    window.onmouseup = () => active = null;
    window.onmousemove = (e) => {
        if(active) {
            active.style.left = (e.clientX - 25) + 'px';
            active.style.top = (e.clientY - 25) + 'px';
            document.getElementById('sync').innerText = (Math.random() * 5 + 94).toFixed(2) + "%";
        }
    }

    // 4. Gravity Fluctuation
    setInterval(() => {
        document.getElementById('grav').innerText = (Math.random() * 0.8).toFixed(2) + "G";
    }, 2000);
</script>
</body>
</html>

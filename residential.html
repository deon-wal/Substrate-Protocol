<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ALDERSYTH // ARCH_03: RESIDENTIAL_RINGS</title>
    <style>
        :root {
            --neon-cyan: #06b6d4; --neon-red: #ff3e3e; --neon-gold: #ffb000;
            --bg-dark: #020406; --panel-border: rgba(6, 182, 212, 0.15);
        }

        body {
            background-color: var(--bg-dark); color: #cffafe;
            font-family: 'Courier New', Courier, monospace; margin: 0;
            overflow-x: hidden; text-transform: uppercase;
        }

        /* --- REQ 4: SENSORY DISTORTION (Neural Flicker) --- */
        @keyframes neuralTear {
            0%, 100% { clip-path: inset(0 0 0 0); filter: brightness(1); }
            95% { clip-path: inset(0 0 0 0); filter: brightness(1); }
            96% { clip-path: inset(20% -6px 30% 0); transform: translateX(-5px); filter: hue-rotate(90deg); }
            98% { clip-path: inset(80% 0 10% 0); transform: translateX(5px); }
        }

        .crt-overlay {
            position: fixed; inset: 0; z-index: 1000; pointer-events: none;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.1) 50%),
                        linear-gradient(90deg, rgba(255, 0, 0, 0.02), rgba(0, 255, 0, 0.01), rgba(0, 0, 255, 0.02));
            background-size: 100% 3px, 3px 100%;
        }

        .tactical-nav {
            display: flex; justify-content: space-between; padding: 12px 30px;
            background: #000; border-bottom: 2px solid var(--neon-cyan); font-size: 0.7rem;
        }

        .log-container {
            max-width: 1000px; margin: 40px auto; padding: 30px;
            background: rgba(5, 8, 10, 0.98); border: 0.5px solid var(--panel-border);
            border-left: 4px solid var(--neon-red); /* REQ 3: Brutalist Accent */
            position: relative; box-shadow: 0 0 50px rgba(0,0,0,1);
        }

        .bio-header {
            border: 1px solid var(--neon-red); background: rgba(255, 62, 62, 0.05);
            padding: 10px; margin-bottom: 20px; display: flex; align-items: center;
        }

        .heart-rate-monitor {
            flex-grow: 1; height: 30px; margin: 0 20px;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="30"><path d="M0 15 L30 15 L35 5 L45 25 L50 15 L100 15" stroke="%23ff3e3e" stroke-width="2" fill="none"/></svg>');
            background-size: 100px 30px; animation: heart-slide 2s linear infinite;
        }

        @keyframes heart-slide { from { background-position: 0; } to { background-position: -100px; } }

        .structural-img {
            width: 100%; height: 340px; object-fit: cover;
            filter: grayscale(1) contrast(1.2) brightness(0.5);
            border: 1px solid var(--neon-cyan); margin-bottom: 25px;
            animation: neuralTear 6s infinite;
        }

        /* --- REQ 1: IDENTITY ERASURE REGISTRY --- */
        .subject-registry {
            float: left; width: 180px; margin-right: 20px;
            font-size: 0.6rem; border-right: 1px solid var(--panel-border);
        }

        .subject-entry { margin-bottom: 10px; transition: 0.3s; color: var(--neon-cyan); }
        .subject-entry.purged { color: var(--neon-red); text-decoration: line-through; opacity: 0.3; }

        .vitals-sidebar {
            float: right; width: 220px; padding-left: 20px;
            border-left: 1px solid var(--panel-border); font-size: 0.7rem;
        }

        .typewriter-text {
            font-size: 0.95rem; line-height: 1.6; color: #e0f2f1;
            min-height: 250px; border-top: 1px solid #111; padding-top: 20px;
        }

        .back-nav {
            margin-top: 40px; display: inline-block; color: var(--neon-cyan);
            text-decoration: none; border: 1px solid var(--neon-cyan);
            padding: 10px 20px; transition: 0.2s; font-size: 0.75rem;
        }

        .back-nav:hover { background: var(--neon-cyan); color: #000; box-shadow: 0 0 15px var(--neon-cyan); }
    </style>
</head>
<body>
    <div class="crt-overlay"></div>

    <header class="tactical-nav">
        <div>STATUS: <span style="color:var(--neon-red)">HARVESTING_BIOMETRICS</span></div>
        <div id="clock">00:00:00</div>
    </header>

    <main class="log-container">
        <div class="bio-header">
            <span style="color: var(--neon-red);">NEURAL_LOAD</span>
            <div class="heart-rate-monitor"></div>
            <span id="bpm-display" style="color: var(--neon-red);">42 BPM</span>
        </div>

        <img src="images/hud-overlays-residential.jpg" class="structural-img" alt="Residential HUD">

        <aside class="subject-registry" id="registry">
            <div style="color: var(--neon-gold); margin-bottom: 10px;">ACTIVE_UNITS:</div>
            </aside>

        <aside class="vitals-sidebar">
            <h4 style="color: var(--neon-cyan); border-bottom: 1px solid var(--neon-cyan);">METRICS</h4>
            <p>SYNC: <span id="syncPercent">92.00%</span></p>
            <p>REM: <span style="color:var(--neon-gold)">DEEP_PROCESS</span></p>
            <p>EFFICIENCY: <span style="color:var(--neon-red)">12%</span></p>
            <div style="font-size: 0.5rem; opacity: 0.5; margin-top: 20px;">THOUGHT_LEAK: DETECTED</div>
        </aside>

        <div id="typewriter" class="typewriter-text"></div>

        <div style="clear: both;"></div>
        <a href="index.html" class="back-nav">Â« RETURN_CORE</a>
    </main>

    <script>
        const logContent = [
            { text: "[FILE_ID: ARCH_03] - RESIDENTIAL_RINGS\n\nAldersyth does not sleep. It calculates. Through the neural tethers, the 'Strangers' harvest the REM cycles of fourteen thousand dormant units. Each citizen is a processor.\n\n" },
            { text: "CRITICAL_TREND:", class: "warning" },
            { text: "\nThe core-sync is climbing. If it reaches 100%, the biological host is integrated. There won't be anyone left to wake up.\n\n[LOG_END]" }
        ];

        // REQ 1: Identity Erasure Registry
        const registry = document.getElementById('registry');
        const subjects = ["SUB_402", "SUB_881", "SUB_092", "SUB_114", "SUB_227", "SUB_650"];
        
        subjects.forEach(s => {
            const div = document.createElement('div');
            div.className = 'subject-entry';
            div.innerText = `${s}: ACTIVE`;
            registry.appendChild(div);
        });

        async function initTypewriter() {
            const container = document.getElementById("typewriter");
            for (const section of logContent) {
                const span = document.createElement('span');
                if (section.class) span.classList.add(section.class);
                container.appendChild(span);
                for (const char of section.text) {
                    span.textContent += char;
                    // REQ 4: Mechanical Hiccup
                    let speed = Math.random() > 0.98 ? 400 : 15;
                    await new Promise(r => setTimeout(r, speed));
                }
            }
        }

        function updateLiveStats() {
            // Update Sync
            const sync = document.getElementById('syncPercent');
            let val = parseFloat(sync.innerText);
            if (val < 99.9) sync.innerText = (val + 0.01).toFixed(2) + "%";
            
            // Inverse Heart Rate
            document.getElementById('bpm-display').innerText = Math.floor(45 - (val - 92)) + " BPM";

            // Clock
            const now = new Date();
            document.getElementById('clock').innerText = now.toTimeString().split(' ')[0];

            // Random Purge
            if (Math.random() > 0.95) {
                const entries = document.querySelectorAll('.subject-entry:not(.purged)');
                if (entries.length > 0) {
                    const target = entries[Math.floor(Math.random() * entries.length)];
                    target.classList.add('purged');
                    target.innerText = target.innerText.replace('ACTIVE', 'NULL');
                }
            }
        }

        setInterval(updateLiveStats, 1000);
        window.onload = initTypewriter;
    </script>
</body>
</html>
